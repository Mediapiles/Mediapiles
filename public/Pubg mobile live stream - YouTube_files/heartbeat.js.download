(function(g){var window=this;'use strict';var FSB=function(D,X){if(!Number.isFinite(D))return String(D);D=String(D);var M=D.indexOf(".");M===-1&&(M=D.length);var Q=D[0]==="-"?"-":"";Q&&(D=D.substring(1));return Q+(0,g.hBH)("0",Math.max(0,X-M))+D},VFn=function(){return{L:"svg",
Z:{fill:"#fff",height:"24px",viewBox:"0 0 24 24",width:"24px"},V:[{L:"path",Z:{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"}}]}},$xC=function(){return{L:"svg",
Z:{fill:"#fff",height:"24px",viewBox:"0 0 24 24",width:"24px"},V:[{L:"path",Z:{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z"}}]}},ZQG=function(D){typeof D==="number"?(this.date=BTG(D,0,1),ZD(this,1)):g.gK(D)?(this.date=BTG(D.getFullYear(),D.getMonth(),D.getDate()),ZD(this,D.getDate())):(this.date=new Date(g.CG()),D=this.date.getDate(),
this.date.setHours(0),this.date.setMinutes(0),this.date.setSeconds(0),this.date.setMilliseconds(0),ZD(this,D))},BTG=function(D,X,M){X=new Date(D,X,M);
D>=0&&D<100&&X.setFullYear(X.getFullYear()-1900);return X},ZD=function(D,X){D.getDate()!=X&&D.date.setUTCHours(D.date.getUTCHours()+(D.getDate()<X?1:-1))},UR=function(D,X){g.Ab.call(this,D,{L:"div",
C:"ytp-reminder-menu",Z:{role:"menu",tabindex:"-1"},V:[{L:"div",C:"ytp-reminder-menu-contents",V:[{L:"div",C:"ytp-reminder-menu-items"}]}]},100,!0);this.S=X;this.G=[];this.menuPopupRenderer=void 0;this.items=this.h$("ytp-reminder-menu-items");this.hide()},Uxh=function(D){return(D.menuPopupRenderer&&D.menuPopupRenderer.items||[]).reduce(function(X,M){M&&M.menuServiceItemRenderer&&X.push(M.menuServiceItemRenderer);
return X},[])},cV=function(D){g.Y.call(this,{L:"div",
V:[{L:"button",gC:["ytp-offline-slate-button","ytp-button"],V:[{L:"div",C:"ytp-offline-slate-button-icon",Gs:"{{icon}}"},{L:"div",C:"ytp-offline-slate-button-text",Gs:"{{text}}"}]}]});this.B=D;this.upcomingEventReminderButtonRenderer=this.toggleButtonRenderer=null;this.G=void 0;this.U=this.S=null;(this.D=this.h$("ytp-offline-slate-button"))&&this.N(this.D,"click",this.X);this.hide()},fK_=function(D,X,M){!D.toggleButtonRenderer&&X&&X.toggleButtonRenderer?D.toggleButtonRenderer=X.toggleButtonRenderer:
X&&X.toggleButtonRenderer||(D.toggleButtonRenderer=null);
!D.upcomingEventReminderButtonRenderer&&M&&g.Z(M,cxr)?D.upcomingEventReminderButtonRenderer=g.Z(M,cxr):M&&g.Z(M,cxr)||(D.upcomingEventReminderButtonRenderer=null);fh(D)},fh=function(D){if(D.toggleButtonRenderer){var X=D.toggleButtonRenderer;
if(X.isToggled){var M=X.toggledText?g.q1(X.toggledText):"";D.update({text:M,icon:S1r(X.toggledIcon)})}else M=X.defaultText?g.q1(X.defaultText):"",D.update({text:M,icon:S1r(X.defaultIcon)});D.show()}else D.upcomingEventReminderButtonRenderer?(X=EQr(D))?(M=X.text?g.q1(X.text):"",D.update({text:M,icon:S1r(X.icon)}),D.show()):D.hide():D.hide()},PYb=function(D,X,M){D.U||(D.U=new g.Js(D.B.W().NL));
var Q={context:g.wf(D.U.config_||g.q$())};g.Va()&&(Q.context.clientScreenNonce=g.Va());Q.params=M;g.xr(D.U,X,Q,{timeout:5E3,onSuccess:function(){D.upcomingEventReminderButtonRenderer&&D.G&&(D.upcomingEventReminderButtonRenderer.currentState=D.G,D.G=void 0)},
onError:function(){yxC(D)},
onTimeout:function(){yxC(D)}})},yxC=function(D){D.toggleButtonRenderer?(D.toggleButtonRenderer.isToggled=!D.toggleButtonRenderer.isToggled,fh(D)):D.upcomingEventReminderButtonRenderer&&(D.G=void 0,fh(D))},S1r=function(D){if(!D)return null;
switch(D.iconType){case "NOTIFICATIONS":return VFn();case "NOTIFICATIONS_NONE":return $xC();case "NOTIFICATIONS_ACTIVE":return g.Br();default:return null}},EQr=function(D){if(!D.upcomingEventReminderButtonRenderer)return null;
var X=D.G||D.upcomingEventReminderButtonRenderer.currentState;D=g.e(D.upcomingEventReminderButtonRenderer.states||[]);for(var M=D.next();!M.done;M=D.next())if((M=g.Z(M.value,mxh))&&M.state===X&&M.button&&g.Z(M.button,g.$w))return g.Z(M.button,g.$w);return null},nQ8=function(D){g.Y.call(this,{L:"div",
C:"ytp-offline-slate",V:[{L:"div",C:"ytp-offline-slate-background"},{L:"div",C:"ytp-offline-slate-bar",V:[{L:"span",C:"ytp-offline-slate-icon",V:[{L:"svg",Z:{fill:"#fff",height:"100%",viewBox:"0 0 24 24",width:"100%"},V:[{L:"path",Z:{d:"M16.94 6.91l-1.41 1.45c.9.94 1.46 2.22 1.46 3.64s-.56 2.71-1.46 3.64l1.41 1.45c1.27-1.31 2.05-3.11 2.05-5.09s-.78-3.79-2.05-5.09zM19.77 4l-1.41 1.45C19.98 7.13 21 9.44 21 12.01c0 2.57-1.01 4.88-2.64 6.54l1.4 1.45c2.01-2.04 3.24-4.87 3.24-7.99 0-3.13-1.23-5.96-3.23-8.01zM7.06 6.91c-1.27 1.3-2.05 3.1-2.05 5.09s.78 3.79 2.05 5.09l1.41-1.45c-.9-.94-1.46-2.22-1.46-3.64s.56-2.71 1.46-3.64L7.06 6.91zM5.64 5.45L4.24 4C2.23 6.04 1 8.87 1 11.99c0 3.13 1.23 5.96 3.23 8.01l1.41-1.45C4.02 16.87 3 14.56 3 11.99s1.01-4.88 2.64-6.54z"}},
{L:"circle",Z:{cx:"12",cy:"12",r:"3"}}]}]},{L:"span",C:"ytp-offline-slate-messages",V:[{L:"div",C:"ytp-offline-slate-main-text",Z:{"aria-label":"{{label}}"},Gs:"{{mainText}}"},{L:"div",C:"ytp-offline-slate-subtitle-text",Gs:"{{subtitleText}}"}]},{L:"span",C:"ytp-offline-slate-buttons"}]},{L:"button",gC:["ytp-offline-slate-close-button","ytp-button"],V:[g.sC()]},{L:"button",gC:["ytp-offline-slate-open-button","ytp-button"],V:[g.LO()]}]});var X=this;this.api=D;this.S=this.G=null;this.background=this.h$("ytp-offline-slate-background");
this.Y=this.h$("ytp-offline-slate-bar");this.D=new g.W5(function(){g.hN(X.Y,"ytp-offline-slate-bar-fade")},15E3);
this.X=!1;this.U=new g.W5(function(){g.hN(X.element,"ytp-offline-slate-collapsed")},15E3);
g.p(this,this.U);g.p(this,this.D);this.countdownTimer=new g.W5(this.V1,1E3,this);this.N(D,"presentingplayerstatechange",this.fl);this.N(D,"livestatedata",this.C$);this.N(this.h$("ytp-offline-slate-close-button"),"click",function(){g.hN(X.element,"ytp-offline-slate-collapsed")});
this.N(this.h$("ytp-offline-slate-open-button"),"click",function(){g.tN(X.element,"ytp-offline-slate-collapsed")});
this.hide();D=this.getVideoData();D.getPlayerResponse()&&(D=D.getPlayerResponse().playabilityStatus)&&this.C$(D);D=this.api.getPresentingPlayerType()===8&&!this.getVideoData().tD;var M=this.api.getPresentingPlayerType()===8;g.qE(this.element,"ytp-offline-slate-premiere-trailer",D);g.qE(this.element,"ytp-offline-slate-hide-background",M)},bQ_=function(D,X,M){if(X){var Q=X.subtitleText!=null?g.q1(X.subtitleText):"";
M=M?M:X.mainText!=null?g.q1(X.mainText):"";var h,H,t,q;X=(q=(h=X.mainText)==null?void 0:(H=h.accessibility)==null?void 0:(t=H.accessibilityData)==null?void 0:t.label)!=null?q:M;D.update({mainText:M,subtitleText:Q,label:X});g.qE(D.element,"ytp-offline-slate-single-text-line",!Q);g.qE(D.Y,"ytp-offline-slate-bar-hidden",!M&&!Q)}},SG=function(D,X){var M=(0,g.fi)();
this.trigger=D;this.S=X;this.Y=M},dx_=function(D){g.Tn.call(this,D);
var X=this;this.J=!1;this.K=0;this.D=!1;this.G=new g.W5(function(){eTC(X)},0);
this.S=this.heartbeatParams=null;this.U=!1;this.X=new g.o3(1E3,6E4,1);this.sequenceNumber=0;this.offlineSlate=null;this.f$=new g.Js(void 0);this.attestationResponse=Promise.resolve(void 0);this.eH=Promise.resolve(void 0);this.utcOffsetMinutes=-(new ZQG).getTimezoneOffset();this.Y=new g.HE(this);g.p(this,this.G);g.p(this,this.Y);RTC(this);IKB(this);this.Y.N(D,"heartbeatparams",this.Ga);this.Y.N(D,"presentingplayerstatechange",this.E4);this.Y.N(D,"videoplayerreset",this.kL);this.Y.N(D,g.rI("heartbeat"),
this.onCueRangeEnter);this.U&&this.S&&gQ8(this,void 0,this.S);var M=new g.v9(ER(this,!0),0x7ffffffffffff,{priority:1,namespace:"heartbeat"}),Q=new g.v9(0x8000000000000,0x8000000000000,{id:"stream_end",priority:1,namespace:"heartbeat"});D.lH([M,Q]);vQa(this)},vQa=function(D){var X=D.getVideoData();
!X.T("use_rta_for_player")&&X.lC&&(X=X.botguardData)&&g.FL(X,D.player.W())},rxB=function(D){var X,M;
return g.r(function(Q){if(Q.S==1)return g.I(Q,g.agW(),2);if(!Q.G)return D.sequenceNumber>=3?Q.return({error:"ATTESTATION_ERROR_VM_INTERNAL_ERROR"}):Q.return(void 0);X=D.getVideoData();M={};return Q.return(g.Kld((M.cpn=X.clientPlaybackNonce,M.encryptedVideoId=X.videoId||"",M),1500))})},RTC=function(D){var X=D.getVideoData();
if(X.lC)if(X.T("use_rta_for_player"))D.attestationResponse=rxB(D);else if(X=new g.Dn9(X),g.s7.isInitialized()||D.sequenceNumber>=3){var M=Promise,Q=M.resolve,h=null;if(X.videoData.ph){var H=g.X92(X);if(H){h={};var t={};H=H.split("&");H=g.e(H);for(var q=H.next();!q.done;q=H.next())q=q.value.split("="),q.length===2&&(t[q[0]]=q[1]);t.r1a&&(h.webResponse=t.r1a);t.r1c&&(h.error=iQB[Number(t.r1c)]);h.challenge=X.videoData.ph}}D.attestationResponse=Q.call(M,h||void 0)}},oQB=function(D){var X=D.getVideoData();
if(!g.EN(D.getVideoData())||X.SK)return!1;if(X.D){D=X.D.flavor==="playready"&&X.T("html5_innertube_heartbeats_for_playready");var M=X.D.flavor==="widevine"&&X.T("html5_innertube_heartbeats_for_widevine");X=g.Q5(X.D)&&X.T("html5_innertube_heartbeats_for_fairplay");return!(D||M||X)}return!0},CYh=function(D){if(oQB(D))return!!D.heartbeatParams;
var X=D.getVideoData();return!g.EN(D.getVideoData())||X.j1||X.wm?!!X.heartbeatToken:!1},yG=function(D,X){if(!D.G.isActive()&&D.J){var M=D.getVideoData();
if(CYh(D)||M.isLivePlayback){if(X===void 0)if(D.D)if(D.U)X=7500;else{var Q;X=((Q=D.heartbeatParams)==null?0:Q.interval)?D.heartbeatParams.interval*1E3:D.getVideoData().Ii||6E4}else X=1E3;D.G.start(X)}}},Y1b=function(D,X,M){X.oA&&(M=g.nJ(M,{internalipoverride:X.oA}));
var Q={cpn:X.clientPlaybackNonce};X.contextParams&&(Q.context_params=X.contextParams);X.o5&&(Q.kpt=X.o5);M=g.nJ(M,Q);g.PX(M,{format:"RAW",method:"GET",timeout:3E4,onSuccess:function(h){if(!D.G.isActive()&&PV(D)){D.X.reset();D.sequenceNumber++;h=h.responseText;var H=OQa(h);if(H){D.player.ER("onHeartbeat",H);var t=H.status==="ok"?H.stop_heartbeat?2:0:H.status==="stop"?1:H.status==="live_stream_offline"?0:-1}else t=(t=h.match(pl_))?t[1]==="0"?0:1:-1;Axb(D,void 0,H,h,t)}},
onError:function(h){PV(D)&&mG(D,!0,"net-"+h.status)},
onTimeout:function(){PV(D)&&mG(D,!0,"timeout")},
withCredentials:!0})},eTC=function(D){var X,M;
g.r(function(Q){X=D.player.W();M=D.getVideoData();if(!PV(D))return Q.return();if(oQB(D))return lKK(D,X,M),Q.D4(0);RTC(D);return g.I(Q,Jxy(D,X,M),0)})},lKK=function(D,X,M){var Q;
if((Q=D.heartbeatParams)!=null&&Q.url){var h=g.nJ(D.heartbeatParams.url,{request_id:g.DfH()});M.R5&&(h=g.nJ(h,{vvt:M.R5}),M.mdxEnvironment&&(h=g.nJ(h,{mdx_environment:M.mdxEnvironment})));g.Ni(X,M.oauthToken).then(function(H){H&&(h=g.nJ(h,{access_token:H}));Y1b(D,M,h)})}},PV=function(D){var X=D.getVideoData();
return D.player.getPresentingPlayerType()===3||!D.player.W().experiments.Q2().S.xl(g.OuR)&&g.x(D.player.getPlayerStateObject(D.getPlayerType()),4)?!1:CYh(D)||X.isLivePlayback?!0:(nh(D),!1)},Jxy=function(D,X,M){var Q,h,H,t,q,w,T,L,K,a,F,V,c,S,b,n,R,v,l,A;
return g.r(function(Hs){if(Hs.S==1)return Q="player/heartbeat",H={videoId:M.videoId,sequenceNumber:D.sequenceNumber,heartbeatServerData:(h=D.R5)!=null?h:M.heartbeatServerData},D.eH=D.attestationResponse,M.lC?g.I(Hs,D.eH,3):Hs.D4(2);Hs.S!=2&&(H.attestationResponse=Hs.G);t=g.tb(M);w=(q=t.client)!=null?q:{};w.utcOffsetMinutes=D.utcOffsetMinutes;H.context=t;H.cpn=M.clientPlaybackNonce;if(T=typeof Intl!=="undefined"?(new Intl.DateTimeFormat).resolvedOptions().timeZone:null)w.timeZone=T;L={heartbeatChecks:[]};
if(K=M.getPlayerResponse())M.heartbeatToken&&(H.heartbeatToken=M.heartbeatToken),(a=K.playabilityStatus)&&(F=a.liveStreamability)&&F.liveStreamabilityRenderer&&L.heartbeatChecks.push("HEARTBEAT_CHECK_TYPE_LIVE_STREAM_STATUS");M.heartbeatToken&&L.heartbeatChecks.push("HEARTBEAT_CHECK_TYPE_YPC");g.H9(X)&&(L.heartbeatChecks.push("HEARTBEAT_CHECK_TYPE_UNPLUGGED"),V=xxh(D),c={},V!==null&&(c.clientPlayerPositionUtcMillis=V),b=(S=D.player.Qq())==null?void 0:g.fb(S),R=((n=b)==null?void 0:n.freePreviewWatchedDuration)||
0,R>0&&(c.freePreviewWatchedDuration={seconds:""+R}),L.unpluggedParams=c);H.heartbeatRequestParams=L;M.isLivePlayback?(v=xxh(D),v!==null&&(H.playbackState||(H.playbackState={}),H.playbackState.playbackPosition={utcTimeMillis:v})):X.T("enable_heartbeat_vod_playback_position")&&(l=WSa(D),l!==null&&(H.playbackState||(H.playbackState={}),H.playbackState.playbackPosition={streamTimeMillis:l}));D.player.publish("heartbeatRequest",H);A={timeout:3E4,onSuccess:function(u){if(!D.G.isActive()&&PV(D)){var D_=
D.getVideoData(),q5=D_.lC&&D.eH==null,Lo;D_.lC=!((Lo=u.heartbeatAttestationConfig)==null||!Lo.requiresAttestation)||q5;q5=u.playabilityStatus;Lo=JSON.stringify(q5)||"{}";u.authenticationMismatch&&D.player.SH("authshear",{});var Qs=-1;var S2=u.playabilityStatus;S2&&(D.player.ER("onHeartbeat",S2),S2.status==="OK"?Qs=u.stopHeartbeat?2:0:S2.status==="UNPLAYABLE"?Qs=1:S2.status==="LIVE_STREAM_OFFLINE"&&(Qs=0));D.sequenceNumber&&Qs===-1||D.X.reset();D.sequenceNumber++;u.heartbeatServerData&&(D.R5=u.heartbeatServerData);
D_.Vu=u;(S2=u.playerCueRangeSet)&&g.XY(D_,S2);u.playerCueRanges&&u.playerCueRanges.length>0&&(D_.cueRanges=u.playerCueRanges);var XC,q_;((XC=u.progressBarConfig)==null?0:XC.progressBarStartPosition)&&((q_=u.progressBarConfig)==null?0:q_.progressBarEndPosition)&&(D_.progressBarStartPosition=u.progressBarConfig.progressBarStartPosition,D_.progressBarEndPosition=u.progressBarConfig.progressBarEndPosition);D_.compositeLiveIngestionOffsetToken=u.compositeLiveIngestionOffsetToken;u.compositeLiveStatusToken!==
D_.compositeLiveStatusToken&&(D_.compositeLiveStatusToken=u.compositeLiveStatusToken);D_.heartbeatLoggingToken=u.heartbeatLoggingToken;D_.publish("dataupdated");Axb(D,u,q5,Lo,Qs)}},
onError:function(u){PV(D)&&mG(D,!0,"net-"+u.status)},
onTimeout:function(){PV(D)&&mG(D,!0,"timeout")}};
g.Ni(X,g.lf(M)).then(function(u){u&&(A.Lg="Bearer "+u);g.xr(D.f$,Q,H,A)});
g.HZ(Hs)})},Axb=function(D,X,M,Q,h){h===-1?(M="decode "+g.OO(Q,3),mG(D,!1,M)):h===2?(nh(D),D.D=!0):(D.K=0,D.G.stop(),h===1?(D.D=!1,M&&M.errorCode==="PLAYABILITY_ERROR_CODE_EMBARGOED"&&D.player.mL(!0),h="pe."+(M==null?void 0:M.errorCode)+";ps."+(M==null?void 0:M.status),D.player.ZS("heartbeat.stop",2,D.L2(Q),h),g.Tm("heartbeatActionPlayerHalted",GFa(M)),(X==null?0:X.videoTransitionEndpoint)&&M&&(X=X.videoTransitionEndpoint,(Q=g.Z(X,g.QM))&&zTh(D,Q,M,{itct:X==null?void 0:X.clickTrackingParams}))):(D.D=
!0,Q=0,D.U&&M&&(Q=gQ8(D,X,M),D.player.publish("livestatedata",M)),Q?yG(D,Q):yG(D)))},gQ8=function(D,X,M){var Q=M.liveStreamability&&M.liveStreamability.liveStreamabilityRenderer,h=!(!Q||!(Q.switchStreamsImmediately||Q.transitionTiming&&Q.transitionTiming==="STREAM_TRANSITION_TIMING_IMMEDIATELY"));
X=kF8(X,Q);var H=D.getVideoData(),t=D.player.getPlayerStateObject(D.getPlayerType()),q=t.isPlaying()&&!g.Rp(H)&&!D.player.isAtLiveHead(D.getPlayerType());if(H.W().t5()){var w,T=((w=D.player.pK())==null?void 0:w.ip())||{};T.status=M.status||"";T.dvr=""+ +q;T["switch"]=""+ +h;T.ended=""+ +!(!Q||!Q.displayEndscreen);D.player.SH("heartbeat",T)}w=Q&&Q.broadcastId;T=D.S&&D.S.liveStreamability&&D.S.liveStreamability.liveStreamabilityRenderer&&D.S.liveStreamability.liveStreamabilityRenderer.broadcastId;var L=
w!==T&&w!=null;L&&D.player.SH("lbidh",{broadcastId:w},!0);var K=D.player.T("always_cache_redirect_endpoint");if(q&&!h&&!K)return X;var a=Q&&Q.streamTransitionEndpoint&&g.Z(Q.streamTransitionEndpoint,g.QM),F=Q&&Q.transitionTiming;if(F==="STREAM_TRANSITION_TIMING_AT_STREAM_END")D.getVideoData().transitionEndpointAtEndOfStream=a;else if(K&&!a&&D.getVideoData().transitionEndpointAtEndOfStream)D.getVideoData().transitionEndpointAtEndOfStream=void 0;else if(!K&&a&&zTh(D,a,M))return X;if(q&&!h&&K||K&&a&&
(F==="STREAM_TRANSITION_TIMING_IMMEDIATELY"||F==="STREAM_TRANSITION_TIMING_UNSPECIFIED")&&zTh(D,a,M))return X;if(M.status.toUpperCase()==="OK"){if(!g.nA(H)||L){var V={video_id:H.videoId};H.Kc&&(V.is_live_destination="1");V.disable_watch_next=!0;V.raw_watch_next_response=H.getWatchNextResponse();V.autonav_state=H.autonavState;V.oauth_token=H.oauthToken;V.jR=H.jR;H.X&&(V.vss_credentials_token=H.X,V.vss_credentials_token_type=H.HW);H.R5&&(V.vvt=H.R5);Q=void 0;g.nA(H)?L&&(Q=new SG("broadcastIdChanged",
T+","+w),D.Uz("HEARTBEAT_ACTION_TRIGGER_IMMEDIATE","HEARTBEAT_ACTION_TRANSITION_REASON_BROADCAST_ID_CHANGED",M)):(w&&(Q=new SG("formatsReceived",""+w)),D.Uz("HEARTBEAT_ACTION_TRIGGER_IMMEDIATE","HEARTBEAT_ACTION_TRANSITION_REASON_LIVE_STREAM_WENT_ONLINE",M));L&&D.player.SH("lbidr",{broadcastId:w});D.player.loadVideoByPlayerVars(V,void 0,void 0,void 0,Q);return X}D.player.Uy("heartbeat",D.getPlayerType())}Q&&Q.displayEndscreen&&(D.offlineSlate?(D=D.offlineSlate,D.X=!0,D.Gm&&D.api.Gg()):t.isBuffering()&&
(H=((V=D.player.pK())==null?void 0:V.ip())||{},D.player.SH("hbse",H,!0),D.player.Gg(!0,"h"),D.player.ER("onLiveMediaEnded",M)));return X},kF8=function(D,X){return(D=Number(D==null?void 0:D.pollDelayMs))?D:(X=Number(X==null?void 0:X.pollDelayMs))?X:0},mG=function(D,X,M){if(!D.G.isActive()){D.G.stop();
D.K++;var Q=X?"heartbeat.net":"heartbeat.servererror";var h=D.getVideoData();if(h.pE||X&&!g.EN(D.getVideoData())&&!CYh(D)&&h.isLivePlayback)h=!1;else{var H,t;((t=D.heartbeatParams)==null?0:t.retries)?H=D.heartbeatParams.retries:H=h.oC||5;h=D.K>=H}h?(g.Tm("heartbeatActionPlayerHalted",X?{enforcedPolicyToHaltOnNetworkFailure:!0}:GFa()),(X=D.getVideoData())&&X.isLivePlayback?D.player.ZS(Q,1,"Video playback interrupted. Please try again.",M):D.player.ZS(Q,1,"Sorry, there was an error licensing this video.",
M)):(yG(D,D.X.getValue()),g.Cm(D.X))}},GFa=function(D){var X={enforcedPolicyToHaltOnNetworkFailure:!1};
D&&(X.serializedServerContext=D.additionalLoggingData);return X},nh=function(D){D.K=0;
D.G.stop();D.D=!1;D.sequenceNumber=0},IKB=function(D){var X=D.getVideoData(),M=D.player.W();
if(X.isLivePlayback)if(g.V5(M.D)){D.U=!0;D.J=!0;if(!g.Nn(M)||g.H9(M))D.offlineSlate=new nQ8(D.player),g.p(D,D.offlineSlate),g.db(D.player,D.offlineSlate.element,4);(X=X.getPlayerResponse())&&X.playabilityStatus&&(D.S=X.playabilityStatus);var Q;((Q=D.S)==null?void 0:Q.status)!=="UNPLAYABLE"&&(D.S?(Q=kF8(void 0,D.S.liveStreamability&&D.S.liveStreamability.liveStreamabilityRenderer))?yG(D,Q):yG(D,7500):yG(D,ER(D,!0)))}else D.player.ZS("html5.unsupportedlive",2,"HTML5_NO_AVAILABLE_FORMATS_FALLBACK","nolive.1");
else g.jb(X.AC,"heartbeat")&&D.player.Uy("heartbeat",D.getPlayerType())},zTh=function(D,X,M,Q){var h=X&&X.videoId;
return h?(D.player.BW(h,Object.assign({},{autonav:"1"},Q||{}),void 0,!0,!0,X,g.lf(D.getVideoData())),D.Uz("HEARTBEAT_ACTION_TRIGGER_IMMEDIATE","HEARTBEAT_ACTION_TRANSITION_REASON_HAS_NEW_STREAM_TRANSITION_ENDPOINT",M),!0):!1},xxh=function(D){return(D=D.player.getProgressState(D.getPlayerType()).ingestionTime)&&isFinite(D)?""+Math.floor(D*1E3):null},WSa=function(D){return(D=D.player.getCurrentTime(D.getPlayerType()))&&isFinite(D)?""+Math.floor(D*1E3):null},ER=function(D,X){X=X===void 0?!1:X;
D=D.getVideoData();return D.T("html5_use_server_init_heartbeat_delay")?isNaN(D.Ii)?15E3:D.Ii:X?1E3:2E3},OQa=function(D){try{var X=JSON.parse(D);
return X!=null?X:void 0}catch(M){}},u$K={ERAS:["BC",
"AD"],ERANAMES:["Before Christ","Anno Domini"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"January February March April May June July August September October November December".split(" "),STANDALONEMONTHS:"January February March April May June July August September October November December".split(" "),SHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONESHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
WEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),STANDALONEWEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),STANDALONESHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),NARROWWEEKDAYS:"SMTWTFS".split(""),STANDALONENARROWWEEKDAYS:"SMTWTFS".split(""),SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["1st quarter","2nd quarter","3rd quarter","4th quarter"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE, MMMM d, y",
"MMMM d, y","MMM d, y","M/d/yy"],TIMEFORMATS:["h:mm:ss\u202fa zzzz","h:mm:ss\u202fa z","h:mm:ss\u202fa","h:mm\u202fa"],DATETIMEFORMATS:["{1} 'at' {0}","{1} 'at' {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5},jGZ=u$K;jGZ=u$K;
var iQB=["ATTESTATION_ERROR_UNKNOWN","ATTESTATION_ERROR_VM_NOT_INITIALIZED","ATTESTATION_ERROR_VM_NO_RESPONSE","ATTESTATION_ERROR_VM_TIMEOUT","ATTESTATION_ERROR_VM_INTERNAL_ERROR"],DhW={300:"STREAMING_DEVICES_QUOTA_PER_24H_EXCEEDED",301:"ALREADY_PINNED_ON_A_DEVICE",303:"STOPPED_BY_ANOTHER_PLAYBACK",304:"TOO_MANY_STREAMS_PER_USER",305:"TOO_MANY_STREAMS_PER_ENTITLEMENT",400:"VIDEO_NOT_FOUND",401:"GEO_FAILURE",402:"STREAMING_NOT_ALLOWED",403:"UNSUPPORTED_DEVICE",405:"VIDEO_FORBIDDEN",500:"PURCHASE_NOT_FOUND",
501:"RENTAL_EXPIRED",502:"PURCHASE_REFUNDED",5E3:"BAD_REQUEST",5001:"CGI_PARAMS_MISSING",5002:"CGI_PARAMS_MALFORMED",5100:"AUTHENTICATION_MISSING",5101:"AUTHENTICATION_MALFORMED",5102:"AUTHENTICATION_EXPIRED",5200:"CAST_TOKEN_MALFORMED",5201:"CAST_TOKEN_EXPIRED",5202:"CAST_TOKEN_FAILED",5203:"CAST_SESSION_VIDEO_MISMATCHED",5204:"CAST_SESSION_DEVICE_MISMATCHED",6E3:"INVALID_DRM_MESSAGE",7E3:"SERVER_ERROR",8E3:"RETRYABLE_ERROR"};g.B=ZQG.prototype;g.B.d2=jGZ.FIRSTDAYOFWEEK;g.B.cg=jGZ.FIRSTWEEKCUTOFFDAY;
g.B.clone=function(){var D=new ZQG(this.date);D.d2=this.d2;D.cg=this.cg;return D};
g.B.getFullYear=function(){return this.date.getFullYear()};
g.B.getYear=function(){return this.getFullYear()};
g.B.getMonth=function(){return this.date.getMonth()};
g.B.getDate=function(){return this.date.getDate()};
g.B.getTime=function(){return this.date.getTime()};
g.B.getDay=function(){return this.date.getDay()};
g.B.getUTCFullYear=function(){return this.date.getUTCFullYear()};
g.B.getUTCMonth=function(){return this.date.getUTCMonth()};
g.B.getUTCDate=function(){return this.date.getUTCDate()};
g.B.getUTCDay=function(){return this.date.getDay()};
g.B.getUTCHours=function(){return this.date.getUTCHours()};
g.B.getUTCMinutes=function(){return this.date.getUTCMinutes()};
g.B.getTimezoneOffset=function(){return this.date.getTimezoneOffset()};
g.B.set=function(D){this.date=new Date(D.getFullYear(),D.getMonth(),D.getDate())};
g.B.setFullYear=function(D){this.date.setFullYear(D)};
g.B.setYear=function(D){this.setFullYear(D)};
g.B.setMonth=function(D){this.date.setMonth(D)};
g.B.setDate=function(D){this.date.setDate(D)};
g.B.setTime=function(D){this.date.setTime(D)};
g.B.setUTCFullYear=function(D){this.date.setUTCFullYear(D)};
g.B.setUTCMonth=function(D){this.date.setUTCMonth(D)};
g.B.setUTCDate=function(D){this.date.setUTCDate(D)};
g.B.add=function(D){if(D.years||D.months){var X=this.getMonth()+D.months+D.years*12,M=this.getYear()+Math.floor(X/12);X%=12;X<0&&(X+=12);a:{switch(X){case 1:var Q=M%4!=0||M%100==0&&M%400!=0?28:29;break a;case 5:case 8:case 10:case 3:Q=30;break a}Q=31}Q=Math.min(Q,this.getDate());this.setDate(1);this.setFullYear(M);this.setMonth(X);this.setDate(Q)}D.days&&(M=this.getYear(),X=M>=0&&M<=99?-1900:0,D=new Date((new Date(M,this.getMonth(),this.getDate(),12)).getTime()+D.days*864E5),this.setDate(1),this.setFullYear(D.getFullYear()+
X),this.setMonth(D.getMonth()),this.setDate(D.getDate()),ZD(this,D.getDate()))};
g.B.equals=function(D){return!(!D||this.getYear()!=D.getYear()||this.getMonth()!=D.getMonth()||this.getDate()!=D.getDate())};
g.B.toString=function(){var D=this.getFullYear(),X=D<0?"-":D>=1E4?"+":"";return[X+FSB(Math.abs(D),X?6:4),FSB(this.getMonth()+1,2),FSB(this.getDate(),2)].join("")+""};
g.B.valueOf=function(){return this.date.valueOf()};var Xhn=new g.bq("addUpcomingEventReminderEndpoint");var MZt=new g.bq("removeUpcomingEventReminderEndpoint");var Qqr=new g.bq("updateUpcomingEventReminderButtonStateCommand");var cxr=new g.bq("upcomingEventReminderButtonRenderer"),mxh=new g.bq("upcomingEventReminderButtonStateRenderer");g.U(UR,g.Ab);
UR.prototype.updateMenuItems=function(){var D=this,X=Uxh(this),M=0;M=0;for(var Q={};M<X.length;Q={Vi:void 0},M++){var h=this.G[M];h||(h=new g.Y({L:"div",C:"ytp-reminder-menu-item",Z:{role:"menuitem",tabindex:"0"},V:[{L:"div",C:"ytp-reminder-menu-item-icon",Gs:"{{icon}}"},{L:"div",C:"ytp-reminder-menu-item-label",Gs:"{{text}}"}]}),Q.Vi=M,h.listen("click",function(t){return function(){var q=t.Vi;D.Pb();q=Uxh(D)[q];D.publish("reminderMenuItemClicked",q.serviceEndpoint||q.command)}}(Q)),h.rC(this.items),
this.G[M]=h);
var H=X[M];Q=null;switch(H.icon&&H.icon.iconType){case "NOTIFICATIONS":Q=VFn();break;case "NOTIFICATIONS_NONE":Q=$xC();break;case "NOTIFICATIONS_ACTIVE":Q=g.Br()}H=H.text?g.q1(H.text):"";h.update({icon:Q,text:H})}for(;M<this.G.length;)this.G.pop().dispose();M===0?this.Pb():this.vC(this.S)};
UR.prototype.hide=function(){this.S&&this.S.removeAttribute("aria-haspopup");g.Ab.prototype.hide.call(this)};
UR.prototype.show=function(){this.S&&this.S.setAttribute("aria-haspopup","true");g.Ab.prototype.show.call(this)};
UR.prototype.Yy=function(){g.am(this.G);g.Ab.prototype.Yy.call(this)};g.U(cV,g.Y);
cV.prototype.X=function(){if(this.toggleButtonRenderer){var D=this.toggleButtonRenderer;D.isToggled?this.Y(D.toggledServiceEndpoint):this.Y(D.defaultServiceEndpoint);D.isToggled=!D.isToggled;fh(this)}else if(this.upcomingEventReminderButtonRenderer)if(this.S&&this.S.Gm)this.S.Pb();else{var X=EQr(this);X&&this.Y(X.serviceEndpoint||X.command);X=((D=g.Z(X==null?void 0:X.command,g.Tq))==null?void 0:D.commands)||[];a:{D=g.e(X);for(var M=D.next();!M.done;M=D.next()){var Q=X=void 0;if(M=(X=g.Z(M.value,g.f_W))==
null?void 0:(Q=X.popup)==null?void 0:Q.menuPopupRenderer){D=M;break a}}D=void 0}this.S||(this.S=new UR(this.B,this.D),this.S.rC(this.element),g.p(this,this.S),this.S.subscribe("reminderMenuItemClicked",this.Y,this));X=this.S;X.menuPopupRenderer=D;X.updateMenuItems()}};
cV.prototype.Y=function(D){var X=g.Z(D,Xhn),M=g.Z(D,MZt);if(D&&(X||M)){if(X){var Q=X;var h="notification/add_upcoming_event_reminder"}else M&&(Q=M,h="notification/remove_upcoming_event_reminder");if(h&&Q&&Q.params)for(PYb(this,h,Q.params),D=g.e(Q.commands||[]),X=D.next();!X.done;X=D.next())if((X=X.value)&&g.Z(X,Qqr)){this.G=g.Z(X,Qqr).state;fh(this);break}}};g.U(nQ8,g.Y);g.B=nQ8.prototype;g.B.getPlayerType=function(){if(this.api.getPresentingPlayerType()===8)return 1};
g.B.getVideoData=function(){return this.api.getVideoData(this.getPlayerType())};
g.B.C$=function(D){var X,M,Q=D==null?void 0:(X=D.liveStreamability)==null?void 0:(M=X.liveStreamabilityRenderer)==null?void 0:M.offlineSlate;if(Q){this.G=D;X=Q.liveStreamOfflineSlateRenderer;X.canShowCountdown?this.V1():bQ_(this,X);var h,H,t,q;if(M=D==null?void 0:(h=D.liveStreamability)==null?void 0:(H=h.liveStreamabilityRenderer)==null?void 0:(t=H.offlineSlate)==null?void 0:(q=t.liveStreamOfflineSlateRenderer)==null?void 0:q.thumbnail){h=0;H=null;t=M.thumbnails;for(q=0;q<t.length;q++)t[q].width>
h&&(h=t[q].width||0,H=t[q].url);H&&(this.background.style.backgroundImage="url("+H+")")}else this.background.style.backgroundImage="";X.actionButtons||X.reminderButton?(this.S||(this.S=new cV(this.api),this.S.rC(this.h$("ytp-offline-slate-buttons")),g.p(this,this.S)),fK_(this.S,X.actionButtons&&X.actionButtons[0],X.reminderButton)):this.S&&fK_(this.S,null,null);this.G=D}else this.G=null;this.fl()};
g.B.fl=function(D){if(this.api.getPresentingPlayerType()===8)var X=!0;else{var M=this.api.getPlayerStateObject(),Q=this.getVideoData();X=Q.isLivePlayback&&(M.isBuffering()||g.x(M,2)||g.x(M,64));var h=Q.autonavState===2&&g.x(M,2);M=M.isPlaying()&&!g.Rp(Q)&&!this.api.isAtLiveHead(void 0,!0);X=X&&!M&&!h}X&&this.G?this.Gm?(D==null?0:g.qZ(D,2))&&!this.getVideoData().tD&&(g.tN(this.element,"ytp-offline-slate-collapsed"),this.U.stop(),g.tN(this.Y,"ytp-offline-slate-bar-fade"),this.D.start()):(this.show(),
this.U.start(),this.api.publish("offlineslatestatechange"),this.X&&this.api.Gg()):this.Gm&&(this.hide(),this.api.publish("offlineslatestatechange"))};
g.B.V1=function(){var D,X,M,Q,h=(D=this.G)==null?void 0:(X=D.liveStreamability)==null?void 0:(M=X.liveStreamabilityRenderer)==null?void 0:(Q=M.offlineSlate)==null?void 0:Q.liveStreamOfflineSlateRenderer;h&&(D=Math.floor(g.CG()/1E3),X=h.canShowCountdown&&Number(h.scheduledStartTime),!X||X<=D?(bQ_(this,h),this.countdownTimer.stop()):(bQ_(this,h,g.$u(X-D)),g.G1(this.countdownTimer)))};
g.B.Yy=function(){this.countdownTimer.dispose();this.countdownTimer=null;g.Y.prototype.Yy.call(this)};SG.prototype.G=function(D){return this.trigger&&D.trigger?this.trigger===D.trigger&&this.S===D.S:!1};
SG.prototype.isExpired=function(){return(0,g.fi)()-this.Y>6E4};
SG.prototype.toString=function(){return"heartbeat:"+this.trigger+":"+this.S};g.U(dx_,g.Tn);g.B=dx_.prototype;g.B.Yy=function(){nh(this);this.player.HD("heartbeat");g.Tn.prototype.Yy.call(this)};
g.B.onCueRangeEnter=function(){this.J=!0;yG(this,ER(this))};
g.B.Ga=function(D){this.heartbeatParams=D;yG(this,ER(this))};
g.B.E4=function(D){var X;this.player.getPresentingPlayerType()!==8&&((X=this.S)==null?void 0:X.status)!=="UNPLAYABLE"&&(g.x(D.state,2)||g.x(D.state,64)?(nh(this),this.U&&(this.J=!0,yG(this,ER(this,!0)))):(X=this.player.W().experiments.Q2().S.xl(g.OuR),(g.x(D.state,1)||g.x(D.state,8)||X&&g.x(D.state,4))&&yG(this,ER(this))))};
g.B.kL=function(){this.player.getPresentingPlayerType()!==3&&yG(this,ER(this))};
g.B.getPlayerType=function(){if(this.player.getPresentingPlayerType()===8)return 1};
g.B.getVideoData=function(){return this.player.getVideoData(this.getPlayerType())};
g.B.Y8=function(D){switch(D){case 4:case 3:return!1}return!0};
g.B.Uz=function(D,X,M){D={trigger:D,reason:X};M&&(D.serializedServerContext=M.additionalLoggingData);g.Tm("heartbeatActionPlayerTransitioned",D)};
g.B.L2=function(D){var X="LICENSE",M=OQa(D);if(M)return M.reason||g.gZ[X]||"";if(D=D.match(pl_))if(D=Number(D[1]))X=(X=DhW[D.toString()])?X:"LICENSE";return g.gZ[X]||""};
g.B.J4=function(){return!!this.offlineSlate&&this.offlineSlate.Gm};
var pl_=/^GLS\/1.0 (\d+) (\w+).*?\r\n\r\n([\S\s]*)$/;g.wZ("heartbeat",dx_);})(_yt_player);
